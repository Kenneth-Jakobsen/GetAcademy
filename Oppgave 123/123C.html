<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      div.trafficLight {
        width: 3rem;
        height: 10rem;
        display: flex;
        flex-direction: column;
        background-color: black;
        padding: 1rem;
        gap: 1rem;
      }

      div.light {
        background-color: red;
        border-radius: 50%;
        width: 3rem;
        height: 3rem;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="trafficLight"></div>
    </div>
  </body>
  <script>
    document.getElementById("app").innerHTML = createTrafficLight(
      false,
      false,
      false
    );

    function createLightDiv(color) {
      return /*HTML*/ `<div class="light" style="background-color: ${color};"></div>`;
    }

    let phase = 0;

    function createTrafficLight(isRed, isYellow, isGreen) {
      let color1 = "gray";
      let color2 = "gray";
      let color3 = "gray";
      if (isRed) color1 = "red";
      if (isYellow) color2 = "yellow";
      if (isGreen) color3 = "green";
      return /*HTML*/ `
            <div class="trafficLight">
                ${createLightDiv(color1)}
                ${createLightDiv(color2)}
                ${createLightDiv(color3)}
            </div>
            <button onclick="goToNextPhase()">Next</button>
        `;
    }

    function goToNextPhase() {
      if (phase == 0) {
        document.getElementById("app").innerHTML = createTrafficLight(
          true,
          false,
          false
        );
        phase++;
      } else if (phase == 1) {
        document.getElementById("app").innerHTML = createTrafficLight(
          true,
          true,
          false
        );
        phase++;
      } else if (phase == 2) {
        document.getElementById("app").innerHTML = createTrafficLight(
          false,
          false,
          true
        );
        phase++;
      } else if (phase == 3) {
        document.getElementById("app").innerHTML = createTrafficLight(
          false,
          true,
          false
        );
        phase = 0;
      }
    }
  </script>
</html>
